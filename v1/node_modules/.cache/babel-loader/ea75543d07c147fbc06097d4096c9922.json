{"ast":null,"code":"import _asyncToGenerator from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from\"react\";import{NavLink,withRouter}from'react-router-dom';import{connect}from'react-redux';import{kyubiExtensionId}from\"../../../config\";import\"./login.css\";import AuthServices from\"../../../services/authService\";import loginHelper from\"../../../helper/loginHelper\";import{OpenPoweredBy,OpenTier5Partnership,OpenFacebookLink,OpenMessengerLink,OpenSignupLink}from'../../../helper/helper';import logo from\"../../../images/logo1.svg\";import biglogo from\"../../../images/biglogo.svg\";import LoaderLogo from\"../../../images/Loader.gif\";import mail from\"../../../images/mail.svg\";import lock from\"../../../images/lock.svg\";import messanger from\"../../../images/Messanger.svg\";import path from\"../../../images/Path3.svg\";import*as authAction from'../../../store/actions/Auth/authAction';import Footer from\"../Common/footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ForgotPassword=/*#__PURE__*/function(_Component){_inherits(ForgotPassword,_Component);var _super=_createSuper(ForgotPassword);function ForgotPassword(props){var _this;_classCallCheck(this,ForgotPassword);_this=_super.call(this,props);_this.inputChangeHandller=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.forgetPasswordHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var payload,_payload;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_this.setState({loader:true});payload={email:_this.state.email};if(!_this.handleFormValidation()){_context2.next=11;break;}_this.setState({error:false});_this.setState({errorMessage:\"\"});_payload={extId:process.kyubi.extId,email:_this.state.email};_context2.next=9;return AuthServices.forgotPassword(_payload).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(result){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(result.data.code===1){_this.setState({loader:false,ActionMessage:true,ActionMessageHead:\"Success\",ActionMessagetext:result.data.message});}else{_this.setState({loader:false,ActionMessage:true,ActionMessageHead:\"Error !!\",ActionMessagetext:\"Sorry Cannot  Process Your Request, Please Provide a Registered Email ID Or Try Again After Sometime\"});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(error){_this.setState({loader:false,ActionMessage:true,ActionMessageHead:\"Error !!\",ActionMessagetext:\"Sorry Cannot  Process Your Request, Please Provide a Registered Email ID Or Try After Sometime\"});});case 9:_context2.next=12;break;case 11:_this.setState({loader:false,error:true,errorMessage:\"Please Provide Proper Email ID !!\"});case 12:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={email:\"\",loader:false,error:false,errorMessage:\"\",loadingstatus:false,ActionMessage:false,ActionMessageHead:\"\",ActionMessagetext:\"\"};return _this;}/**\n    * @inputChangeHandller \n    * getting input field values\n    */_createClass(ForgotPassword,[{key:\"handleFormValidation\",value:/**\n    * @handleFormValidation \n    * email field blank validation\n    */function handleFormValidation(){var fields={email:this.state.email};var formIsValid=true;var emailRegex=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;var checkResult=emailRegex.test(String(this.state.email).toLowerCase());if(!fields[\"email\"]){formIsValid=false;this.setState({errorMessage:\"Email Is Required\"});return formIsValid;}else if(checkResult===false){formIsValid=false;this.setState({errorMessage:\"Please enter a proper email\"});return formIsValid;}else{formIsValid=true;return formIsValid;}return formIsValid;}/**\n    * @forgetPasswordHandler \n    * in this function we are checking the email id\n    * and if the details are correct then Ask kyubi Tofenerate Reset Password Link\n    */},{key:\"ActionMessageClose\",value:function ActionMessageClose(event){event.preventDefault();this.props.history.push('/');this.setState({email:\"\",loader:false,error:false,errorMessage:\"\",loadingstatus:false,ActionMessage:false,ActionMessageHead:\"\",ActionMessagetext:\"\"});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[this.state.loader&&/*#__PURE__*/_jsx(\"div\",{class:\"after_login_refresh\",children:/*#__PURE__*/_jsx(\"img\",{src:process.kyubi.loader.preLoader,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginscreen\",children:[this.state.ActionMessage&&/*#__PURE__*/_jsx(\"div\",{class:\"group_delete_sreen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"group_delete_popup\",children:[/*#__PURE__*/_jsx(\"h3\",{children:this.state.ActionMessageHead}),/*#__PURE__*/_jsx(\"p\",{children:this.state.ActionMessagetext}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(event){return _this2.ActionMessageClose(event);},className:\"redlink\",children:\"Close\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"graphics1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"graphics2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:process.kyubi.logo.secondary_logo})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login_welcome_block\",children:[\"Forgot Password?\",/*#__PURE__*/_jsx(\"h3\",{className:\"forgetpasswordtext\",children:\"Submit your registered email to get the link to reset your account password.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login_block\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:mail})}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",id:\"email\",type:\"email\",placeholder:\"Email Address\",onChange:this.inputChangeHandller})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right gap1\",children:[\"Click here to \",/*#__PURE__*/_jsx(NavLink,{className:\"link\",to:\"/\",children:\"LogIn\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"blue_btn\",onClick:this.forgetPasswordHandler,children:\"Submit\"}),this.state.error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[\" \",this.state.errorMessage,\" *\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:/*#__PURE__*/_jsx(Footer,{})})]})]})]});}}]);return ForgotPassword;}(Component);export default ForgotPassword;","map":null,"metadata":{},"sourceType":"module"}