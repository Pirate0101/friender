{"ast":null,"code":"import _toConsumableArray from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from\"react\";import{NavLink}from\"react-router-dom\";import AutoResponderService from\"../../../services/autoResponderServices\";import Sidebar from\"../Common/sidebar\";import ReactDOM from'react-dom';import{WithContext as ReactTags}from'react-tag-input';import{GetData}from\"../../../helper/helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var KeyCodes={comma:188,enter:13};var delimiters=[KeyCodes.comma,KeyCodes.enter];var autoResponderCreate=/*#__PURE__*/function(_Component){_inherits(autoResponderCreate,_Component);var _super=_createSuper(autoResponderCreate);function autoResponderCreate(props){var _this;_classCallCheck(this,autoResponderCreate);_this=_super.call(this,props);_this.inputChangeHandller=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.autoSetting=function(){// console.log(\"hiyy\",this.state.auto_responder_status )\nif(_this.state.auto_responder_status===0){_this.setState({auto_responder_status:1});}else{_this.setState({auto_responder_status:0});}};_this.createAutoResponderGroupHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var Token,payload;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loader:true});event.preventDefault();_context.next=4;return GetData('kyubi_user_token');case 4:Token=_context.sent;payload={user_id:Token,auto_responder_name:_this.state.auto_responder_name,auto_responder_keywords:_this.state.auto_responder_keywords,auto_responder_message:_this.state.auto_responder_message,auto_responder_status:_this.state.auto_responder_status};// console.log(\"This I gottttt\",payload);\nAutoResponderService.createAutoResponder(payload).then(function(response){_this.setState({loader:false});_this.props.history.push('/autoresponder');});case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={auto_responder_name:\"\",auto_responder_message:\"\",auto_responder_status:1,loader:false,auto_responder_keywords:[]};_this.handleDelete=_this.handleDelete.bind(_assertThisInitialized(_this));_this.handleAddition=_this.handleAddition.bind(_assertThisInitialized(_this));return _this;}_createClass(autoResponderCreate,[{key:\"handleDelete\",value:function handleDelete(i){var auto_responder_keywords=this.state.auto_responder_keywords;this.setState({auto_responder_keywords:auto_responder_keywords.filter(function(auto_responder_keyword,index){return index!==i;})});}},{key:\"handleAddition\",value:function handleAddition(auto_responder_keyword){this.setState(function(state){return{auto_responder_keywords:[].concat(_toConsumableArray(state.auto_responder_keywords),[auto_responder_keyword])};});}/**\n        * @inputChangeHandller \n        * getting input field values\n    */},{key:\"render\",value:function render(){var _jsx2;var auto_responder_keywords=this.state.auto_responder_keywords;return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[this.state.loader&&/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-2x fa-sync-alt fa-spin\"})}),/*#__PURE__*/_jsx(Sidebar,{selectedtab:\"setting\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"content-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mb-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Auto-Responder\"})})})})}),/*#__PURE__*/_jsx(\"section\",{className:\"content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-primary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\" Create Auto-Responder\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Auto-Responder Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"auto_responder_name\",className:\"form-control\",id:\"exampleInputEmail1\",placeholder:\"Auto-Responder Name\",value:this.state.auto_responder_name,onChange:this.inputChangeHandller})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Auto-Responder Keywords\"}),/*#__PURE__*/_jsx(ReactTags,{placeholder:\"Press enter Or Press , to Create Autoresponder Keywords\",tags:auto_responder_keywords,handleDelete:this.handleDelete,handleAddition:this.handleAddition,allowUnique:true,delimiters:delimiters})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Auto-Responder Response Message\"}),/*#__PURE__*/_jsx(\"textarea\",(_jsx2={name:\"auto_responder_message\",value:\"\",className:\"form-control\",rows:\"3\",placeholder:\"Please enter the response message....\"},_defineProperty(_jsx2,\"value\",this.state.auto_responder_message),_defineProperty(_jsx2,\"onChange\",this.inputChangeHandller),_jsx2))]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group clearfix\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"icheck-success d-inline\",children:[this.state.auto_responder_status?/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"checkboxPrimary3\",name:\"auto_responder_status\",onChange:this.autoSetting,checked:true}):/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"checkboxPrimary3\",name:\"auto_responder_status\",onChange:this.autoSetting}),/*#__PURE__*/_jsx(\"label\",{for:\"checkboxPrimary3\",children:\"Activate Auto-Responder\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:this.createAutoResponderGroupHandler,children:\"Submit\"})})]})]})})})})})]})]});}}]);return autoResponderCreate;}(Component);export default autoResponderCreate;","map":null,"metadata":{},"sourceType":"module"}