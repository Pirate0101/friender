{"ast":null,"code":"import _asyncToGenerator from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from\"react\";import{NavLink}from\"react-router-dom\";import Sidebar from\"../Common/sidebar\";import AutoResponderService from\"../../../services/autoResponderServices\";import settingService from\"../../../services/setting\";import{GetData}from\"../../../helper/helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var autoResponnder=/*#__PURE__*/function(_Component){_inherits(autoResponnder,_Component);var _super=_createSuper(autoResponnder);function autoResponnder(props){var _this;_classCallCheck(this,autoResponnder);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var gfs,UserToken,payload,user_id,Newpayload;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:gfs=chrome.storage.local;_context2.next=3;return GetData('kyubi_user_token');case 3:UserToken=_context2.sent;//this.setState({autoresponderList:autoresponderList})\npayload={user_id:UserToken};AutoResponderService.listAutoResponder(payload).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://   // console.log(\"This is what i Got\",response);\nif(response.data.payload!=\"\"){// console.log(\"This is what i Got\",response.data.payload);\nif(response.data.payload.autokey.length>0){// console.log(\"This is what i Got\",response.data.payload.autokey);\n_this.setState({autoresponderList:response.data.payload.autokey});}}_this.setState({loader:false});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(error){_this.setState({loader:false});});_context2.next=8;return GetData('user_id');case 8:user_id=_context2.sent;Newpayload={user_id:user_id};settingService.getUserDetails(Newpayload).then(function(result){// console.log(\"This is what i111 Got\",result);\ngfs.set({'kyubi_user_token':result.data.payload.UserInfo.kyubi_user_token});gfs.set({'user_id':result.data.payload.UserInfo.user_id});gfs.set({'fb_id':result.data.payload.UserInfo.facebook_id});gfs.set({'fb_username':result.data.payload.UserInfo.facebook_name});gfs.set({'fb_name':result.data.payload.UserInfo.facebook_profile_name});gfs.set({'fb_image':result.data.payload.UserInfo.facebook_image});if(result.data.payload.UserSettings.default_message){gfs.set({'default_message':result.data.payload.UserSettings.default_message});// localStorage.setItem('default_message', result.data.payload.UserSettings.default_message);\n}if(result.data.payload.UserSettings.default_message_text){gfs.set({'default_message_text':result.data.payload.UserSettings.default_message_text});// localStorage.setItem('default_message_text', result.data.payload.UserSettings.default_message_text);\n}if(result.data.payload.UserSettings.autoresponder){gfs.set({'autoresponder':result.data.payload.UserSettings.autoresponder});// localStorage.setItem('autoresponder', result.data.payload.UserSettings.autoresponder);\n}if(result.data.payload.UserSettings.default_time_delay){gfs.set({'default_time_delay':result.data.payload.UserSettings.default_time_delay});// localStorage.setItem('default_time_delay', result.data.payload.UserSettings.default_time_delay);\n}gfs.set({'keywordsTally':result.data.payload.UserSettings.AutoResponderKeywords});// localStorage.setItem('keywordsTally', JSON.stringify(result.data.payload.AutoResponderKeywords));\n}).catch(function(error){// console.log(\"This is what i222 Got\",error);\n});case 11:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={autoresponderList:[],loader:true};return _this;}_createClass(autoResponnder,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[this.state.loader&&/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-2x fa-sync-alt fa-spin\"})}),/*#__PURE__*/_jsx(Sidebar,{selectedtab:\"setting\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"content-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Auto-Responder\"}),/*#__PURE__*/_jsxs(NavLink,{to:\"/autorespondercreate\",class:\"btn btn-app\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-plus-square\"}),\" Create New Auto-Responder\"]})]})})})}),/*#__PURE__*/_jsx(\"section\",{className:\"content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row overflow-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:Object.keys(this.state.autoresponderList).length>0?this.state.autoresponderList.map(function(data,i){var editlink=\"/autoresponderedit/\"+data._id;return/*#__PURE__*/_jsxs(\"div\",{className:data.status===1?\"card card-success shadow-none\":\"card card-danger shadow-none\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:data.auto_responder_name}),/*#__PURE__*/_jsx(\"div\",{className:\"card-tools\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-tool\",\"data-card-widget\":\"collapse\",children:/*#__PURE__*/_jsx(NavLink,{to:editlink,children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-edit\"})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:data.status===1?\"callout callout-success\":\"callout callout-danger\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Response Message :\"}),/*#__PURE__*/_jsx(\"p\",{children:data.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:data.status===1?\"callout callout-success\":\"callout callout-danger\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Keywords :\"}),/*#__PURE__*/_jsx(\"p\",{children:data.autoresponderkeywords.map(function(result,i){return/*#__PURE__*/_jsx(\"span\",{class:\"badge badge-info\",children:result.keywords});})})]})]})]});}):this.state.loader?\" \":/*#__PURE__*/_jsxs(\"div\",{className:\"card card-danger shadow-none\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Oops !\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-tools\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"callout callout-danger\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Sorry There Is No Auto-Responder\"})})})]})})})})})]})]});}}]);return autoResponnder;}(Component);export default autoResponnder;","map":null,"metadata":{},"sourceType":"module"}