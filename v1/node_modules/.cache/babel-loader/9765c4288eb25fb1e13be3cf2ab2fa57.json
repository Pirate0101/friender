{"ast":null,"code":"/* eslint-disable no-undef */import AuthServices from\"../services/authService\";var loginHelper={login:function login(){AuthServices.getProfileInfo().then(function(result){try{var sugest,dtsg,UserFacebookUsername=\"\",UserFacebookName=\"\",UserFacebookid=\"\",UserFacebookImage=\"\",UserLoggedInFacebook=false;var regex3=/\\\\\"suggestions\\\\\":\\[\\{[^}]*\\}/gm;var regex4=/\\\\\"dtsg\\\\\":\\{[^}]*\\}/gm;if(result.match(regex4)!=null){// console.log(\"it is true\");\ndtsg=result.match(regex4)[0];dtsg=\"{\"+dtsg.replace(/[\\\\]/g,\"\")+\"}\";// console.log(\"dtsg in login helper 2\", dtsg);\ndtsg=JSON.parse(dtsg).dtsg;// console.log(\"dtsg in login helper 3\", dtsg);\n}console.log(\"dtsg : \",dtsg);chrome.storage.local.set({\"dtsg\":dtsg});if(regex3.test(result)){sugest=result.match(regex3)[0];sugest=\"{\"+sugest.replace(/[\\\\]/g,\"\")+\"]}\";sugest=JSON.parse(sugest).suggestions[0];// console.log(\"sugest in login helper\", sugest);\nsetTimeout(function(){UserFacebookid=sugest.uid;UserFacebookUsername=sugest.path.replace('/','');UserFacebookName=sugest.text;UserFacebookImage=sugest.photo;UserLoggedInFacebook=true;var parameters={FacebookId:UserFacebookid,FacebookUsername:UserFacebookUsername,FacebookName:UserFacebookName,FacebookImage:UserFacebookImage,LoggedInFacebook:UserLoggedInFacebook};// console.log(\"parameters : \", parameters);\nchrome.runtime.sendMessage({type:\"storeUserInfoOrQueryThenStore\",options:parameters});},500);}else{UserLoggedInFacebook=false;var parameters={FacebookId:UserFacebookid,FacebookUsername:UserFacebookUsername,FacebookName:UserFacebookName,FacebookImage:UserFacebookImage,LoggedInFacebook:UserLoggedInFacebook};// console.log(\"parameters : \", parameters);\nchrome.runtime.sendMessage({type:\"storeUserInfoOrQueryThenStore\",options:parameters});}}catch(err){console.log(\"err : \",err);}}).catch(function(error){console.log(\"This I got From backGround EROOOOOO dash1\",error);});},logout:function logout(){try{var gfs=chrome.storage.local;gfs.get(['fbprofile'],function(res){if(res.fbprofile!==undefined&&res.fbprofile!==null){var newtab=parseInt(res.fbprofile);chrome.tabs.remove(newtab,function(){gfs.remove(['fbprofile']);});}});gfs.get(['fbmunread'],function(res){if(res.fbmunread!==undefined&&res.fbmunread!==null){var newtabx=parseInt(res.fbmunread);chrome.tabs.remove(newtabx,function(){gfs.remove(['fbmunread']);});}});gfs.remove(['fbthread']);var myNewUrl=\"https://www.facebook.com/profile.php\";var CreateWindow=chrome.runtime.sendMessage({type:\"CloseAllForResponse\",options:myNewUrl});return CreateWindow;}catch(error){return error;}}};export default loginHelper;","map":null,"metadata":{},"sourceType":"module"}