{"ast":null,"code":"import _asyncToGenerator from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/var/www/html/extensions/friender/extension/v1/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from\"react\";import Header from\"../Common/header\";import Footer from\"../Common/footer\";import delaysettingService from\"../../../services/delaysettingServices\";import{GetData}from\"../../../helper/helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var setting=/*#__PURE__*/function(_Component){_inherits(setting,_Component);var _super=_createSuper(setting);function setting(props){var _this;_classCallCheck(this,setting);_this=_super.call(this,props);_this.inputChangeHandller=function(event){// console.log(event.target);\n_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.autoSetting=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.state.delay_status===false){_this.setState({delay_status:true});}else{_this.setState({delay_status:false});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.submitAddDefaultMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var gfs,user_id,payload;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:gfs=chrome.storage.local;_this.setState({loader:true});event.preventDefault();_context2.next=5;return GetData('user_id');case 5:user_id=_context2.sent;;payload={delay_hrs:_this.state.delay_hrs,delay_minute:_this.state.delay_minute,delay_status:_this.state.delay_status,user_id:user_id};delaysettingService.setSetting(payload).then(function(result){// console.log(\"This I got From backGround SUSSSSS\",result);\nif(result.data.code==1){var responsenewvalue=result.data.payload;if(responsenewvalue.delay_setting==1){_this.setState({delay_status:true});}else{_this.setState({delay_status:false});}var toatlminutes=parseInt(responsenewvalue.delay_time);if(toatlminutes<60){_this.setState({loader:false,delay_hrs:0,delay_minute:toatlminutes});}else{var constmin=60;var hrs=Math.floor(toatlminutes/constmin);var mins=toatlminutes%constmin;// console.log(\"Total Hrs =\",hrs);\n// console.log(\"Total Mins =\",mins);\n_this.setState({loader:false,delay_hrs:hrs,delay_minute:mins});}}else{_this.setState({loader:false,delay_hrs:null,delay_minute:null,delay_status:false});}}).catch(function(error){// console.log(\"This I got From backGround EROOOOOO\",error);\n});// console.log(\"This Inf I have to Send\",payload);\ncase 9:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var params;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({loader:true});_context3.next=3;return GetData('user_id');case 3:_context3.t0=_context3.sent;params={user_id:_context3.t0};delaysettingService.getSetting(params).then(function(result){// console.log(\"This I got From backGround SUSSSSS\",result);\nif(result.data.code==1){var responsenewvalue=result.data.payload;if(responsenewvalue.delay_setting==1){_this.setState({delay_status:true});}else{_this.setState({delay_status:false});}var toatlminutes=parseInt(responsenewvalue.delay_time);if(toatlminutes<60){_this.setState({loader:false,delay_hrs:0,delay_minute:toatlminutes});}else{var constmin=60;var hrs=Math.floor(toatlminutes/constmin);var mins=toatlminutes%constmin;// console.log(\"Total Hrs =\",hrs);\n// console.log(\"Total Mins =\",mins);\n_this.setState({loader:false,delay_hrs:hrs,delay_minute:mins});}}else{_this.setState({loader:false,delay_hrs:null,delay_minute:null,delay_status:false});}}).catch(function(error){// console.log(\"This I got From backGround EROOOOOO\",error);\n});case 6:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={responseSetting:1,messageSetting:0,loader:false,delay_hrs:null,delay_minute:null,delay_status:false};return _this;}/**\n    * @inputChangeHandller \n    * getting input field values\n    */_createClass(setting,[{key:\"render\",value:function render(){var _jsx3;return/*#__PURE__*/_jsxs(\"div\",{children:[this.state.loader&&/*#__PURE__*/_jsx(\"div\",{className:\"after_login_refresh\",children:/*#__PURE__*/_jsx(\"img\",{src:process.kyubi.loader.preLoader,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(Header,{selectedtab:\"setting\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"toggleSettings\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Delay AutoResponder Response\",/*#__PURE__*/_jsx(\"span\",{class:\"toggler\",children:/*#__PURE__*/_jsxs(\"label\",{class:\"switch_box box_1\",children:[this.state.delay_status===false?/*#__PURE__*/_jsx(\"input\",_defineProperty({type:\"checkbox\",className:\"switch_1\",name:\"delay_status\",onChange:this.autoSetting,id:\"swich\"},\"name\",\"togg\")):/*#__PURE__*/_jsx(\"input\",(_jsx3={type:\"checkbox\",className:\"switch_1\",name:\"delay_status\",onChange:this.autoSetting,id:\"swich\"},_defineProperty(_jsx3,\"name\",\"togg\"),_defineProperty(_jsx3,\"checked\",true),_jsx3)),/*#__PURE__*/_jsx(\"span\",{className:\"toogler\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"settingsMore active\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"HH\",min:\"0\",max:\"24\",name:\"delay_hrs\",value:this.state.delay_hrs,onChange:this.inputChangeHandller}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"MM\",min:\"0\",max:\"60\",name:\"delay_minute\",value:this.state.delay_minute,onChange:this.inputChangeHandller})]}),/*#__PURE__*/_jsx(\"div\",{class:\"submitFormSettings\",children:/*#__PURE__*/_jsx(\"button\",{class:\"blue_btn submitSettings\",onClick:this.submitAddDefaultMessage,children:\"Save\"})})]}),/*#__PURE__*/_jsx(Footer,{})]})]});}}]);return setting;}(Component);export default setting;","map":null,"metadata":{},"sourceType":"module"}