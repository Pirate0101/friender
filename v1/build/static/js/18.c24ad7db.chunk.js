(this.webpackJsonpMefnevan=this.webpackJsonpMefnevan||[]).push([[18],{378:function(e,o,t){"use strict";t.r(o);var n=t(51),r=t(52),a=t(53),c=t(55),i=t(0),s=t(72),u=(t(47),t(107),t(3)),l=function(e){Object(a.a)(t,e);var o=Object(c.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=o.call(this,e)).state={},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=chrome.storage.local;e.remove(["fb_id"]),e.remove(["token"]),e.remove(["keywordsTally"]),e.remove(["inBackgroundFetching"]),e.remove(["fb_image"]),e.remove(["fb_logged_id"]),e.remove(["fb_name"]),e.remove(["fb_username"]),e.remove(["autoresponder"]),e.remove(["kyubi_user_token"]),e.remove(["user_id"]),e.remove(["default_message_text"]),e.remove(["fb_username"]),e.remove(["default_time_delay"]),e.remove(["default_message"]),e.remove(["individualThreadList"]),e.remove(["profileFetch"]),e.remove(["messageListFetch"]),e.remove(["individualMessageFetch"]);s.a.logout();e.remove(["fbthread"]),e.remove(["fbmunread"]),e.remove(["fbprofile"]),this.props.history.push("/")}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)("section",{className:"content-header",children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row mb-12",children:Object(u.jsx)("div",{className:"col-sm-6"})})})}),Object(u.jsx)("section",{className:"content",children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsxs)("div",{class:"alert alert-danger alert-dismissible",children:[Object(u.jsxs)("h5",{children:[Object(u.jsx)("i",{class:"icon fas fa-ban"})," Alert!"]}),"Thanks For Being With Us We are Loging You Out"]})})})})})]})})}}]),t}(i.Component);o.default=l},47:function(e,o){e.exports.host="http://localhost:8081",e.exports.kyubi="https://dev.kyubi.io/api/end-user",e.exports.kyubiExtensionId="60844f117260470788e4622d"},59:function(e,o,t){"use strict";var n=t(60),r=t.n(n),a=t(47),c={login:function(e){return new Promise((function(o,t){var n={method:"POST",url:"https://dev.kyubi.io/api/end-user/login",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(n).then((function(e){o(e)})).catch((function(e){t(e)}))}))},userRetrive:function(e){return new Promise((function(o,t){var n={method:"POST",url:a.host+"/api/user/userRetrive",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(n).then((function(e){o(e)})).catch((function(e){t(e)}))}))},getProfileInfo:function(){return new Promise((function(e,o){r()({method:"GET",mode:"cors",url:"https://m.facebook.com/composer/ocelot/async_loader/?publisher=feed",headers:{baseURL:"https://www.facebook.com","Content-Type":"application/x-www-form-urlencoded",Accept:"text/html,application/json","x-fb-friendly-name":"FriendingCometFriendsListPaginationQuery"}}).then((function(o){e(o.data)})).catch((function(e){o(e)}))}))},messageSend:function(e){return new Promise((function(o,t){var n={method:"POST",mode:"cors",url:"https://m.facebook.com/messages/send/?icm=1",headers:{Origin:"https://m.facebook.com","Content-Type":"text/html"},data:JSON.stringify(e)};r()(n).then((function(e){o(e.data)})).catch((function(e){t(e)}))}))},forgotPassword:function(e){return new Promise((function(o,t){var n={method:"POST",mode:"cors",url:"https://dev.kyubi.io/api/end-user/generate-password-token",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(e)};r()(n).then((function(e){o(e)})).catch((function(e){t(e)}))}))},GetOrStoreUser:function(e){return new Promise((function(o,t){var n={method:"POST",url:a.host+"/api/user/getOrStoreUser",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(n).then((function(e){o(e)})).catch((function(e){t(e)}))}))},GetOrStoreProfile:function(e){return new Promise((function(o,t){var n={method:"POST",url:a.host+"/api/profile/getOrStoreProfile",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(n).then((function(e){o(e)})).catch((function(e){t(e)}))}))},GetProfile:function(e){return new Promise((function(o,t){var n={method:"POST",url:a.host+"/api/profile/getProfile",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(n).then((function(e){o(e)})).catch((function(e){t(e)}))}))},getProfileAccessToken:function(e){return new Promise((function(e,o){r()({method:"GET",mode:"cors",url:"https://business.facebook.com/creatorstudio/home",headers:{authority:"business.facebook.com","Content-Type":"application/x-www-form-urlencoded",Accept:"text/html,application/json"}}).then((function(o){console.log("In Success profile get",o);var t=o.data.match(/"userAccessToken":"(.*?)"/);if(t&&Array.isArray(t)){var n=t[1];e(n)}})).catch((function(e){o(e)}))}))}};o.a=c},72:function(e,o,t){"use strict";var n=t(59),r={login:function(){n.a.getProfileInfo().then((function(e){try{var o,t,n="",r="",a="",c="",i=/\\"suggestions\\":\[\{[^}]*\}/gm,s=/\\"dtsg\\":\{[^}]*\}/gm;if(null!=e.match(s)&&(t="{"+(t=e.match(s)[0]).replace(/[\\]/g,"")+"}",t=JSON.parse(t).dtsg),console.log("dtsg : ",t),chrome.storage.local.set({dtsg:t}),i.test(e))o="{"+(o=e.match(i)[0]).replace(/[\\]/g,"")+"]}",o=JSON.parse(o).suggestions[0],setTimeout((function(){a=o.uid,n=o.path.replace("/",""),r=o.text,c=o.photo;var e={FacebookId:a,FacebookUsername:n,FacebookName:r,FacebookImage:c,LoggedInFacebook:!0};chrome.runtime.sendMessage({type:"storeUserInfoOrQueryThenStore",options:e})}),500);else{var u={FacebookId:a,FacebookUsername:n,FacebookName:r,FacebookImage:c,LoggedInFacebook:!1};chrome.runtime.sendMessage({type:"storeUserInfoOrQueryThenStore",options:u})}}catch(l){console.log("err : ",l)}})).catch((function(e){console.log("This I got From backGround EROOOOOO dash1",e)}))},logout:function(){try{var e=chrome.storage.local;e.get(["fbprofile"],(function(o){if(void 0!==o.fbprofile&&null!==o.fbprofile){var t=parseInt(o.fbprofile);chrome.tabs.remove(t,(function(){e.remove(["fbprofile"])}))}})),e.get(["fbmunread"],(function(o){if(void 0!==o.fbmunread&&null!==o.fbmunread){var t=parseInt(o.fbmunread);chrome.tabs.remove(t,(function(){e.remove(["fbmunread"])}))}})),e.remove(["fbthread"]);return chrome.runtime.sendMessage({type:"CloseAllForResponse",options:"https://www.facebook.com/profile.php"})}catch(o){return o}}};o.a=r}}]);