(this.webpackJsonpMefnevan=this.webpackJsonpMefnevan||[]).push([[17],{388:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(18),s=n(51),o=n(52),i=n(53),c=n(55),u=n(49),l=n.n(u),f=n(0),d=n(87),p=n(82),h=n(60),m=n.n(h),g=n(47),y={setSetting:function(e){return new Promise((function(t,n){var a={method:"POST",url:g.host+"/api/delaysetting/setsetting",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};m()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getSetting:function(e){return new Promise((function(t,n){var a={method:"POST",url:g.host+"/api/delaysetting/getSetting",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};m()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))},updateAutoresponderSetting:function(e){return new Promise((function(t,n){var a={method:"POST",url:g.host+"/api/delaysetting/updateSetting",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};m()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},v=n(56),_=n(3),b=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).inputChangeHandller=function(e){o.setState(Object(r.a)({},e.target.name,e.target.value))},o.autoSetting=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===o.state.delay_status?o.setState({delay_status:!0}):o.setState({delay_status:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.submitAddDefaultMessage=function(){var e=Object(a.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return chrome.storage.local,o.setState({loader:!0}),t.preventDefault(),e.next=5,Object(v.a)("user_id");case 5:n=e.sent,a={delay_hrs:o.state.delay_hrs,delay_minute:o.state.delay_minute,delay_status:o.state.delay_status,user_id:n},y.setSetting(a).then((function(e){if(1==e.data.code){var t=e.data.payload;1==t.delay_setting?o.setState({delay_status:!0}):o.setState({delay_status:!1});var n=parseInt(t.delay_time);if(n<60)o.setState({loader:!1,delay_hrs:0,delay_minute:n});else{var a=Math.floor(n/60),r=n%60;o.setState({loader:!1,delay_hrs:a,delay_minute:r})}}else o.setState({loader:!1,delay_hrs:null,delay_minute:null,delay_status:!1})})).catch((function(e){}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.componentDidMount=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({loader:!0}),e.next=3,Object(v.a)("user_id");case 3:e.t0=e.sent,t={user_id:e.t0},y.getSetting(t).then((function(e){if(1==e.data.code){var t=e.data.payload;1==t.delay_setting?o.setState({delay_status:!0}):o.setState({delay_status:!1});var n=parseInt(t.delay_time);if(n<60)o.setState({loader:!1,delay_hrs:0,delay_minute:n});else{var a=Math.floor(n/60),r=n%60;o.setState({loader:!1,delay_hrs:a,delay_minute:r})}}else o.setState({loader:!1,delay_hrs:null,delay_minute:null,delay_status:!1})})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)}))),o.state={responseSetting:1,messageSetting:0,loader:!1,delay_hrs:null,delay_minute:null,delay_status:!1},o}return Object(o.a)(n,[{key:"render",value:function(){var e;return Object(_.jsxs)("div",{children:[this.state.loader&&Object(_.jsx)("div",{className:"after_login_refresh",children:Object(_.jsx)("img",{src:"images/Loader.gif",alt:""})}),Object(_.jsxs)("div",{className:"dashboard",children:[Object(_.jsx)(d.a,{selectedtab:"setting"}),Object(_.jsxs)("div",{class:"toggleSettings",children:[Object(_.jsxs)("p",{children:["Delay AutoResponder Response",Object(_.jsx)("span",{class:"toggler",children:Object(_.jsxs)("label",{class:"switch_box box_1",children:[!1===this.state.delay_status?Object(_.jsx)("input",Object(r.a)({type:"checkbox",className:"switch_1",name:"delay_status",onChange:this.autoSetting,id:"swich"},"name","togg")):Object(_.jsx)("input",(e={type:"checkbox",className:"switch_1",name:"delay_status",onChange:this.autoSetting,id:"swich"},Object(r.a)(e,"name","togg"),Object(r.a)(e,"checked",!0),e)),Object(_.jsx)("span",{className:"toogler"})]})})]}),Object(_.jsxs)("div",{class:"settingsMore active",children:[Object(_.jsx)("input",{type:"number",placeholder:"HH",min:"0",max:"24",name:"delay_hrs",value:this.state.delay_hrs,onChange:this.inputChangeHandller}),Object(_.jsx)("span",{children:":"}),Object(_.jsx)("input",{type:"number",placeholder:"MM",min:"0",max:"60",name:"delay_minute",value:this.state.delay_minute,onChange:this.inputChangeHandller})]}),Object(_.jsx)("div",{class:"submitFormSettings",children:Object(_.jsx)("button",{class:"blue_btn submitSettings",onClick:this.submitAddDefaultMessage,children:"Save"})})]}),Object(_.jsx)(p.a,{})]})]})}}]),n}(f.Component);t.default=b},48:function(e,t,n){"use strict";function a(e,t,n,a,r,s,o){try{var i=e[s](o),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(e){a(o,r,s,i,c,"next",e)}function c(e){a(o,r,s,i,c,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return r}))},49:function(e,t,n){e.exports=n(65)},65:function(e,t,n){var a=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(N){c=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var r=t&&t.prototype instanceof g?t:g,s=Object.create(r.prototype),o=new P(a||[]);return s._invoke=function(e,t,n){var a=f;return function(r,s){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===r)throw s;return U()}for(n.method=r,n.arg=s;;){var o=n.delegate;if(o){var i=w(o,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var c=l(e,t,n);if("normal"===c.type){if(a=n.done?h:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=h,n.method="throw",n.arg=c.arg)}}}(e,n,o),s}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={};function g(){}function y(){}function v(){}var _={};c(_,s,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(L([])));j&&j!==n&&a.call(j,s)&&(_=j);var x=v.prototype=g.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(r,s,o,i){var c=l(e[r],e,s);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(f).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,i)}))}i(c.arg)}var r;this._invoke=function(e,a){function s(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(s,s):s()}}function w(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=l(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var s=r.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var n=e[s];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:U}}function U(){return{value:t,done:!0}}return y.prototype=v,c(x,"constructor",v),c(v,"constructor",y),y.displayName=c(v,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},O(S.prototype),c(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,a,r,s){void 0===s&&(s=Promise);var o=new S(u(t,n,a,r),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(x),c(x,i,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return i.type="throw",i.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:L(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=a}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},73:function(e,t,n){"use strict";var a=n(60),r=n.n(a),s=n(47),o={setSetting:function(e){return new Promise((function(t,n){var a={method:"POST",url:s.host+"/api/setting/setsetting",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getSetting:function(e){return new Promise((function(t,n){var a={method:"POST",url:s.host+"/api/setting/getSetting",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))},updateAutoresponderSetting:function(e){return new Promise((function(t,n){var a={method:"POST",url:s.host+"/api/setting/updateautoresponder",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getUserDetails:function(e){return new Promise((function(t,n){var a={method:"POST",url:s.host+"/api/setting/getUserDetails",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))},updateLoadStatus:function(e){return new Promise((function(t,n){var a={method:"POST",url:s.host+"/api/setting/updateLoadStatus",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(a).then((function(e){t(e)})).catch((function(e){n(e)}))}))}};t.a=o},87:function(e,t,n){"use strict";var a=n(48),r=n(51),s=n(52),o=n(53),i=n(55),c=n(49),u=n.n(c),l=n(0),f=n(4),d=(n(89),n(14)),p=n.p+"static/media/avatar_a.e6cf98db.png",h=n.p+"static/media/side_menu.435ab0a1.svg",m=n(73),g=(n(75),n(72)),y=n(19),v=n(56),_=n(62),b=n(3),j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).HideMenu=function(e){e.preventDefault(),s.setState({openNavBar:!1})},s.autoSetting=function(){var e=Object(a.a)(u.a.mark((function e(t){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=chrome.storage.local,s.setState({loader:!0}),r={},e.next=5,Object(v.a)("kyubi_user_token");case 5:return o=e.sent,0===s.state.meven_status?(s.setState({meven_status:1}),r={update_load_status:1,kyubi_user_token:o},g.a.login()):(s.setState({meven_status:0}),r={update_load_status:0,kyubi_user_token:o},g.a.logout()),e.next=9,m.a.updateLoadStatus(r).then(function(){var e=Object(a.a)(u.a.mark((function e(t){var a,r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.data.code){e.next=34;break}return a=t.data,n.set({kyubi_user_token:a.payload.UserInfo.kyubi_user_token}),n.set({user_id:a.payload.UserInfo.user_id}),n.set({fb_id:a.payload.UserInfo.facebook_id}),n.set({fb_username:a.payload.UserInfo.facebook_name}),n.set({fb_name:a.payload.UserInfo.facebook_profile_name}),n.set({fb_image:a.payload.UserInfo.facebook_image}),a.payload.UserSettings.default_message?n.set({default_message:a.payload.UserSettings.default_message}):n.set({default_message:0}),a.payload.UserSettings.default_message_text?n.set({default_message_text:a.payload.UserSettings.default_message_text}):n.set({default_message_text:""}),a.payload.UserSettings.autoresponder?n.set({autoresponder:a.payload.UserSettings.autoresponder}):n.set({autoresponder:0}),a.payload.UserSettings.default_time_delay&&n.set({default_time_delay:a.payload.UserSettings.default_time_delay}),n.set({keywordsTally:a.payload.AutoResponderKeywords}),r=[],e.next=16,Object(v.a)("fb_username");case 16:return r.UserName=e.sent,e.next=19,Object(v.a)("fb_image");case 19:return r.UserImage=e.sent,e.next=22,Object(v.a)("fb_logged_id");case 22:return r.UserLoginFacebook=e.sent,e.next=25,Object(v.a)("autoresponder");case 25:return r.UserAutoResponder=e.sent,e.next=28,Object(v.a)("default_message");case 28:r.UserDefaultMessage=e.sent,s.props.setProfileInfo(r),i=r.UserAutoResponder,o=r.UserDefaultMessage,s.setState({autoresponder_status:i,default_message:o}),s.setState({loader:!1});case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){s.setState({loader:!1})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.ShowMenu=function(){var e=Object(a.a)(u.a.mark((function e(t){var n,a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return chrome.storage.local,t.preventDefault(),s.setState({openNavBar:!0}),e.next=5,Object(v.a)("fb_username");case 5:return n=e.sent,e.next=8,Object(v.a)("fb_image");case 8:return a=e.sent,e.next=11,Object(v.a)("autoresponder");case 11:return r=e.sent,e.next=14,Object(v.a)("default_message");case 14:o=e.sent,n&&s.setState({user_name:n}),a&&s.setState({user_image:a}),r&&("1"==r&&s.setState({meven_status:1}),s.setState({autoresponder_status:r})),o&&("1"==o&&s.setState({meven_status:1}),s.setState({default_message:o}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.componentDidMount=Object(a.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({loader:!0}),e.next=3,Object(v.a)("fb_username");case 3:return e.sent,e.next=6,Object(v.a)("fb_image");case 6:return e.sent,e.next=9,Object(v.a)("autoresponder");case 9:return e.sent,e.next=12,Object(v.a)("default_message");case 12:e.sent,s.props.ProfileInfo.profileInfo.UserName&&s.setState({user_name:s.props.ProfileInfo.profileInfo.UserName}),s.props.ProfileInfo.profileInfo.UserImage&&s.setState({user_image:s.props.ProfileInfo.profileInfo.UserImage}),s.props.ProfileInfo.profileInfo.UserAutoResponder&&("1"==s.props.ProfileInfo.profileInfo.UserAutoResponder&&s.setState({meven_status:1}),s.setState({autoresponder_status:s.props.ProfileInfo.profileInfo.UserAutoResponder})),s.props.ProfileInfo.profileInfo.UserDefaultMessage&&("1"==s.props.ProfileInfo.profileInfo.UserDefaultMessage&&s.setState({meven_status:1}),s.setState({default_message:s.props.ProfileInfo.profileInfo.UserDefaultMessage})),s.setState({loader:!1});case 18:case"end":return e.stop()}}),e)}))),s.state={selected:s.props.selectedtab,openNavBar:!1,default_message:0,autoresponder_status:0,ready_for_activate:0,user_name:"XXXXXX",user_image:p,meven_status:0,loader:!1},s}return Object(s.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"gen_header",children:[this.state.loader&&Object(b.jsx)("div",{className:"after_login_refresh",children:Object(b.jsx)("img",{src:"images/Loader.gif",alt:""})}),Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)("img",{src:"images/logo1.png",alt:""})}),Object(b.jsx)("div",{className:"hBtnWrapper",children:Object(b.jsxs)("div",{className:"slide_menu_click",children:[Object(b.jsx)("a",{href:"#",className:"side_click",onClick:this.ShowMenu,children:Object(b.jsx)("img",{src:h})}),Object(b.jsxs)("div",{className:this.state.openNavBar?"slider_menu active":"slider_menu",children:[Object(b.jsx)("a",{href:"#",onClick:this.HideMenu,className:"cross",children:"X"}),Object(b.jsxs)("div",{className:"after_log_profile",children:[Object(b.jsx)("img",{src:this.state.user_image,alt:""}),Object(b.jsx)("p",{children:"Welcome"}),Object(b.jsx)("h3",{children:this.state.user_name})]}),Object(b.jsxs)("ul",{className:"menunav",children:[Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/dashboard",children:[Object(b.jsx)("img",{src:"images/menuicon4.svg"})," Dashboard"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/logout",children:[Object(b.jsx)("img",{src:"images/menuicon1.svg"})," Logout"]})})]})]})]})})]})}}]),n}(l.Component);t.a=Object(y.b)((function(e){return{ProfileInfo:e.auth.payload}}),(function(e){return{setProfileInfo:function(t){return e(_.a(t))}}}))(Object(f.f)(j))}}]);